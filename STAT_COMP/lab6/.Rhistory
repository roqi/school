# Read in data
setwd("/Users/salimmjahad/Desktop/STAT_COMP/lab6")
titanic <- read.csv("Titanic.txt", header = TRUE, as.is = TRUE)
## R Code ------------------------
summary(titanic)
titanic <- read.table("Titanic.txt", header = TRUE, as.is = TRUE)
## R Code ------------------------
summary(titanic)
## R Code ------------------------
summary(titanic$Name)
## R Code ------------------------
head(titanic$Name, 10)
## R Code ------------------------
strsplit(Titanic$Name, split = ", ")
## R Code ------------------------
strsplit(titanic$Name, split = ", ")
## R Code ------------------------
strsplit(titanic$Name, split = ", ")[, 2]
## R Code ------------------------
strsplit(titanic$Name, split = ", ")[:1]
## R Code ------------------------
strsplit(titanic$Name, split = ", ")[,1]
## R Code ------------------------
strsplit(titanic$Name, split = ", ")[1]
## R Code ------------------------
strsplit(titanic$Name, split = ", ")[,1]
## R Code ------------------------
strsplit(titanic$Name, split = ", ")[:1]
## R Code ------------------------
strsplit(titanic$Name, split = ", ")[:]
## R Code ------------------------
strsplit(titanic$Name, split = ", ")[,C(1)]
## R Code ------------------------
strsplit(titanic$Name, split = ", ")[,c(1)]
## R Code ------------------------
mode(strsplit(titanic$Name, split = ", "))
## R Code ------------------------
strsplit(titanic$Name, split = ", ")
## R Code ------------------------
matrix(strsplit(titanic$Name, split = ", "))
## R Code ------------------------
as.data.frame(t(as.data.frame(strsplit(titanic$Name, split = ", "))))
## R Code ------------------------
head(as.data.frame(t(as.data.frame(strsplit(titanic$Name, split = ", ")))))
## R Code ------------------------
df <- head(as.data.frame(t(as.data.frame(strsplit(titanic$Name, split = ", ")))))
rownames(df)<-NULL
df
df[2]
strsplit(df[2], split = ". ")
df[2]
## R Code ------------------------
df <- as.data.frame(t(as.data.frame(strsplit(titanic$Name, split = ", "))))
rownames(df)<-NULL
df[2]
strsplit(df[2], split = ". ")
matrix(df[2])
c(df[2])
df[2]
colnames(df)<-NULL
df[2]
rownames(df)<-NULL
df[2]
FlatColumn <- unlist(df[2], use.names = FALSE)
FlatColumn
strsplit(FlatColumn, split = ". ")
df <- data.frame(lapply(df[2], as.character), stringsAsFactors=FALSE)
strsplit(df, split = ". ")
df
colnames(df)<-NULL
df
strsplit(df, split = ". ")
df
df <- lapply(df, as.character)
df
df[1]
df <- as.data.frame(t(as.data.frame(strsplit(titanic$Name, split = ", "))))
colnames(df)<-NULL
rownames(df)<-NULL
df[] <- lapply(df, as.character)
colnames(df)<-NULL
df[1]
strsplit(df, split = ". ")
newbob <- transform(df, phenotype = as.character(phenotype))
## R Code ------------------------
df <- as.data.frame(t(as.data.frame(strsplit(titanic$Name, split = ", "))))
df
df[3]
df[2]
as.character(df[2])
d[2]
df[2]
str[2]
str(df[2])
head(df)
## R Code ------------------------
df <- as.data.frame(t(as.data.frame(strsplit(titanic$Name, split = ", "))))
head(df)
dim(df)
df[1,1]
df[1,2]
## R Code ------------------------
df <- as.data.frame(t(as.data.frame(strsplit(titanic$Name, split = ", "))))
df[2]
coll <- df[2]
rownames(coll) <- NULL
coll
colnames(coll) <- NULL
coll
## R Code ------------------------
df <- as.data.frame(c(as.data.frame(strsplit(titanic$Name, split = ", "))))
coll <- df[2]
rownames(coll) <- NULL
colnames(coll) <- NULL
coll
## R Code ------------------------
df <- as.data.frame(t(as.data.frame(strsplit(titanic$Name, split = ", "))))
coll <- df[2]
rownames(coll) <- NULL
colnames(coll) <- NULL
coll
mode(coll)
unlist(coll, use.names=FALSE)
coll
coll <- unlist(coll, use.names=FALSE)
coll
strsplit(coll, split = ". ")
strsplit(coll, split = ". ")
coll
titanic$Name
mode(titanic$Name)
mode(coll)
mode(coll) <- "character"
storage.mode(coll) <- "character"
mode(coll)
coll <- unlist(coll, use.names=FALSE)
as.charactor(coll)
as.character(coll)
mode(titanic$Name)
mode(coll)
coll <- as.character(coll)
mode(coll)
strsplit(coll, split = ". ")
df1 <- as.data.frame(t(as.data.frame(strsplit(as.character(unlist(coll, use.names=FALSE)), split = ". "))))
strsplit(as.character(unlist(coll, use.names=FALSE)), split = ". ")
df1 <- as.data.frame(t(as.data.frame(ll)))
ll <- strsplit(as.character(unlist(coll, use.names=FALSE)), split = ". ")
df1 <- as.data.frame(t(as.data.frame(ll)))
ll <- strsplit(as.character(unlist(coll)), split = ". ")
df1 <- as.data.frame(t(as.data.frame(ll)))
as.data.frame(ll)
ll
lapply(ll, "[", c("breakp.start", "breakp.end"))
ll
ll[1]
ll[[1]]
ll[[1]]
ll[1]
ll[1][2]
ll[1][1]
ll[1][2]
ll
first <- function(vec) {
return(vec[0])
}
sapply(ll, first)
return(vec[1])
first <- function(vec) {
return(vec[1])
}
sapply(ll, first)
## R Code ------------------------
strsplit(titanic$Name, split = ", ")
get <- function(vec, num) {
return(vec[num])
}
get <- function(vec, 2) {
get <- function(vec) {
return(vec[2])
}
sapply(strsplit(titanic$Name, split = ", "), get )
strsplit(sapply(strsplit(titanic$Name, split = ", "), get2), split = ". ")
get2 <- function(vec) {
return(vec[2])
}
sapply(strsplit(sapply(strsplit(titanic$Name, split = ", "), get2), split = ". "), get1)
get1 <- function(vec) {
return(vec[1])
}
strsplit(sapply(strsplit(titanic$Name, split = ", "), get2), split = ". ")
sapply(strsplit(sapply(strsplit(titanic$Name, split = ", "), get2), split = ". "), get1)
titanic$Title = strsplit(sapply(strsplit(titanic$Name, split = ", "), get2), split = ". ")
titanic$Title
titanic$Title = sapply(strsplit(sapply(strsplit(titanic$Name, split = ", "), get2), split = ". "), get1)
titanic$Title
titanic
table(titanic$Title)
titanic$Name
table(titanic$Title)
which(titanic$Title == "th")
titanic[750:770,]
titanic$Title
## R Code ------------------------
?count
## R Code ------------------------
nlevels(titanic$Title)
## R Code ------------------------
levels(titanic$Title)
nlevels(titanic$Title)
## R Code ------------------------
titanic$Title <- levels(titanic$Title)
nlevels(titanic$Title)
titanic$Title
titanic$Title = sapply(strsplit(sapply(strsplit(titanic$Name, split = ", "), get2), split = ". "), get1)
titanic$Title
titanic$Title <- as.factor(titanic$Title)
titanic$Title <- as.factor(titanic$Title)
titanic$Title
titanic$Title <- as.factor(titanic$Title, labels = c("Mr", "Mrs", "Miss", "Master"))
?factor
sort(unique(titanic$Title))
titanic$Title <- as.factor(titanic$Title, levels = c("Mr", "Mrs", "Miss", "Master", "Other"))
titanic$Title <- as.factor(titanic$Title)
titanic$Title
titanic$Title = sapply(strsplit(sapply(strsplit(titanic$Name, split = ", "), get2), split = ". "), get1)
titanic$Title
repOther <- function(char) {
if (char %in% c("Mr", "Mrs", "Miss", "Master")) {
return(char)
}
else {
return("Other")
}
}
sapply(titanic$Title, repOther)
head(sapply(titanic$Title, repOther))
type(sapply(titanic$Title, repOther))
mode(sapply(titanic$Title, repOther))
dim(sapply(titanic$Title, repOther))
size(sapply(titanic$Title, repOther))
as.factor(sapply(titanic$Title, repOther))
titanic$Title = as.factor(sapply(titanic$Title, repOther))
set(unique(titanic$Title ))
levels(titanic$Title)
head(titanic$Title, 10)
nlevels(titanic$Title)
install.packages('plyr')
count(titanic, 'Title')
tef
tes <- c("Mr", "Mrs", "Miss", "Master", "Other")
tef <- c(length(which(titanic$Title=="Mr")),
length(which(titanic$Title=="Mrs")),
length(which(titanic$Title=="Miss")),
length(which(titanic$Title=="Master")),
length(which(titanic$Title=="Other")))
tef
sun(tef)
sum(tef)
dim(titanic)
cnt <- df = data.frame(tes, tef)
cnt <- data.frame(tes, tef)
cnt
rm(df)
lvl <- c("Mr", "Mrs", "Miss", "Master", "Other")
lvl_count <- c(length(which(titanic$Title=="Mr")),
length(which(titanic$Title=="Mrs")),
length(which(titanic$Title=="Miss")),
length(which(titanic$Title=="Master")),
length(which(titanic$Title=="Other")))
cnt <- data.frame(lvl, lvl_count)
cnt
rm(tef)
rem(tes)
rm(tes)
lvl <- c("Mr", "Mrs", "Miss", "Master", "Other")
lvl_count <- c(length(which(titanic$Title=="Mr")),
length(which(titanic$Title=="Mrs")),
length(which(titanic$Title=="Miss")),
length(which(titanic$Title=="Master")),
length(which(titanic$Title=="Other")))
cnt <- data.frame(lvl, lvl_count)
cnt
titanic$Survived
survivors <- subset(titanic, Survived==1)
surv_count <- c(length(which(survivors$Title=="Mr")),
length(which(survivors$Title=="Mrs")),
length(which(survivors$Title=="Miss")),
length(which(survivors$Title=="Master")),
length(which(survivors$Title=="Other")))
surv_count
surv_cnt <- data.frame(lvl, surv_count)
surv_cnt
## R Code ------------------------
ggplot(data=surv_cnt) +
geom_bar(aes(x=lvl,y=surv_count))+
labs(title = "Title",fill="Survived",x="")
## R Code ------------------------
library("ggplot")
## R Code ------------------------
library("ggplot2")
ggplot(data=surv_cnt) +
geom_bar(aes(x=lvl,y=surv_count))+
labs(title = "Title",fill="Survived",x="")
ggplot(data=surv_cnt) +
geom_bar(aes(x=lvl))+
labs(title = "Title",fill="Survived",x="")
ggplot(data=surv_cnt) +
geom_bar(aes(x=lvl, fill=surv_count))+
labs(title = "Title",fill="Survived",x="")
ggplot(data=surv_cnt) +
geom_bar(aes(x=lvl, fill=lvl))+
labs(title = "Title",fill="Survived",x="")
ggplot(data=titanic) +
geom_bar(aes(x=factor(Title), fill=Title))+
labs(title = "Title",fill="Survived",x="")
ggplot(data=survivors) +
geom_bar(aes(x=factor(Title), fill=Title))+
labs(title = "Title",fill="Survived",x="")
ggplot(data=survivors) +
geom_bar(aes(x=factor(Title), fill=Title))+
labs(title = "number of survivors by Title",fill="Survived")
ggplot(data=survivors) +
geom_bar(aes(x=factor(Title), fill=Title))+
labs(title = "number of survivors by Title",fill="Survived", x="")
repNOther <- function(char) {
if (char %in% c("Mr", "Mrs", "Miss", "Master")) {
return("Other")
}
else {
return(char)
}
}
tmp <- sapply(strsplit(sapply(strsplit(titanic$Name, split = ", "), get2), split = ". "), get1)
tmp <- as.factor(sapply(tmp, repNOther))
tmp
dim(tmp)
head(tmp)
tmp <- sapply(strsplit(sapply(strsplit(titanic$Name, split = ", "), get2), split = ". "), get1)
tmp
tmp <- sapply(tmp, repNOther)
head(tmp)
names(tmp) <- NULL
head(tmp)
as.factor(names)
as.factor(tmp)
levels(as.factor(tmp))
## R Code ------------------------
head(titanic$Name)
titanic$Last_name <- sapply(strsplit(titanic$Name, split = ", "), get1)
head(titanic$Last_name)
head(titanic$Last_name, 10)
## R Code ------------------------
summary(as.factor(titanic$Last_name))
## R Code ------------------------
head(summary(as.factor(titanic$Last_name)),8)
length(subset(titanic, Last_name=="Andersson")$Last_name)
## R Code ------------------------
head(summary(as.factor(titanic$Last_name)),8)
names(tmp) <- NULL
## R Code ------------------------
repNOther <- function(char) {
if (char %in% c("Mr", "Mrs", "Miss", "Master")) {
return("Other")
}
else {
return(char)
}
}
tmp <- sapply(strsplit(sapply(strsplit(titanic$Name, split = ", "), get2), split = ". "), get1)
tmp <- sapply(tmp, repNOther)
names(tmp) <- NULL
levels(as.factor(tmp))
